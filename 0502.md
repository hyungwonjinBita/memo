# 多対多関係

学生一人が色んな授業に入ると１対多の関係が成立する
そして授業の目線で見ると一つの授業に色んな学生が参加しているようになり１対多の関係が成立するようになる
これを全体的に合わせてみると学生と授業の間には多対多の関係が成立する

![img](https://camo.qiitausercontent.com/9149196f44b6000327e58420b632cbc598d61ece/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3531333532342f32316133633266392d646463642d366166382d333332382d6663393666336463343237362e706e67)
(イメージの出典：https://qiita.com/ramuneru/items/db43589551dd0c00fef9)

# 中間テーブル

このような関係性をまとめるために、多対多の関係では「中間テーブル」というものが生成される
![img](https://camo.qiitausercontent.com/5fab2675594689543a825b410b04edbd68f76f69/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3531333532342f65373064383839302d373634372d306630612d333031342d3138333132623766613839312e706e67)
(イメージの出典：https://qiita.com/ramuneru/items/db43589551dd0c00fef9)
中間テーブルで簡単に学生と授業の関係をまとめることができる

# 自己参照の場合

twitter の follow の場合は自己参照の関係性を持っている
上の例では学生と授業の関係を持って中間テーブルを作ったとしたら follow 関係は同じ USER テーブルを持って中間テーブルを作るため「自己参照」と読んでいる
図でみるとこんな感じになります。
![img](https://i.imgur.com/5xEvhFC.png)
同じ USER テーブル間の関係で中間テーブルを作れる
図を見ると ID が 2 の Nori は ID が１の JIN をフォローしている、ID ３の Tano も ID １の JIN をフォローしているなどなど

一つの USER テーブルを通してお互いの関係性を中間テーブルで示すことができる
